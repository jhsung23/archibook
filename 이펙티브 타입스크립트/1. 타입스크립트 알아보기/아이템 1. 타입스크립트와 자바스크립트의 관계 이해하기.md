# 아이템 1. 타입스크립트와 자바스크립트의 관계 이해하기

- 타입스크립트는 자바스크립트의 상위 집합, 타입이 정의된 자바스크립트의 상위 집합
- 자바스크립트 프로그램에 문법 오류가 없다면 유효한 타입스크립트 프로그램임
- 자바스크립트 프로그램에 어떤 이슈가 존재한다면 문법 오류가 아니더라도 타입 체커에게 지적당할 가능성이 높음
  - 문법의 유효성과 동작의 이슈는 독립적인 문제임
  - 타입스크립트는 여전히 작성된 코드를 파싱하고 자바스크립트로 변환할 수 있음
- 자바스크립트 파일은 `.js` `.jsx` 확장자를 사용하고 타입스크립트 파일은 `.ts` `.tsx` 확장자를 사용
- 타입스크립트는 자바스크립트의 상위 집합이기 때문에 .js 파일에 있는 코드는 이미 타입스크립트임
  - 자바스크립트를 타입스크립트로 마이그레이션하기 쉬운 이유
- 모든 타입스크립트는 자바스크립트 프로그램이 아님
  - 타입스크립트가 타입을 명시하는 추가적인 문법을 가지기 때문
  ```jsx
  function greet(who: string) {
    //^^^^^^^^ 자바스크립트는 타입 구문을 알지 못함
    console.log('Hello', who);
  }
  ```
- 타입스크립트 컴파일러는 타입스크립트뿐만 아니라 일반 자바스크립트 프로그램에도 유용함
  ```jsx
  let city = 'new york city';
  console.log(city.toUppercase());
  //^^^^^^^^^^^^ toUppercase 속성이 string 형식에 없음
  ```
  - 위 코드에는 타입 구문이 없지만, 타입스크립트의 타입 체커는 문제점을 찾아냄
  - city가 문자열이라는 것을 알려주지 않아도, 타입스크립트는 초깃값으로부터 타입을 추론함
- 타입 시스템의 목표 중 하나는 런타임에 오류를 발생시킬 코드를 미리 찾아내는 것
  - 따라서 타입 스크립트는 정적 타입 시스템
- 타입 체커가 모든 오류를 찾아내는 것은 아님
  ```jsx
  const states = [
    { name: 'Alabama', capitol: 'Montgomery' },
    { name: 'Alabama', capitol: 'Montgomery' },
    { name: 'Alabama', capitol: 'Montgomery' },
  ];

  for (const state of states) {
    console.log(state.capital);
    //^^^^^^^ capital 속성이 없음
  }
  ```
  - 오류를 찾아내긴 하지만, 어느 쪽이 오타인지 판단하진 못함
  - 명시적으로 타입을 선언하여 의도를 분명하게 하는 것이 좋음
  ```jsx
  interface State {
    name: string;
    capital: string;
  }
  ```
- 타입스크립트 타입 시스템은 자바스크립트의 런타임 동작을 모델링함
  ```jsx
  const x = 2 + '3'; // string
  const y = '2' + 3; // string
  ```
  - 런타임 오류가 발생하지 않고 두 줄 모두 문자열 23이 되는 자바스크립트 런타임 동작으로 모델링됨
- 정상 동작하는 코드에 오류를 표시하기도 함
  ```jsx
  const a = null + 7;
  ```
  - 자바스크립트에서는 a값이 7이 되지만, 타입 체커는 문제점을 표시함 (+연산자를 null에 적용할 수 없음)
- 타입스크립트가 이해하는 값의 타입과 실제 값에 차이가 있기 때문에 오류가 발생함
- 타입 시스템이 정적 타입의 정확성을 보장해 줄 것 같지만 그렇지 않음

## 요약

- 타입스크립트는 자바스크립트의 상위 집합이다.
- 모든 자바스크립트 프로그램은 이미 타입스크립트 프로그램이다.
- 그러나 타입스크립트는 별도의 문법을 가지기 때문에 유효한 자바스크립트 프로그램은 아니다.
- 타입스크립트는 자바스크립트의 런타임 동작을 모델링하는 타입 시스템을 가지고 있다.
- 런타임 오류를 발생시키는 코드를 찾아내려고 하지만, 타입 체커를 통과하면서 런타임 오류를 발생시키는 코드는 존재할 수 있다.
- 자바스크립트에서는 허용되지만 타입스크립트에서는 문제가 되는 경우도 있다.
